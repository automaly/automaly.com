"use strict";(self.webpackChunknuxulutest=self.webpackChunknuxulutest||[]).push([[6569],{36676:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var a=t(74848),s=t(28453);const r={date:new Date("2019-10-15T00:00:00.000Z"),title:"Insert multiple records in a single transaction using Odata from Postman",tags:["Postman","ODATA","BATCH","integration","d365"],categories:["Integration","FinOps"],lightgallery:!0},o=void 0,i={id:"integration/odata/2019-10-15-insert-multiple-records-in-single-request-using-odata-from-postman/index",title:"Insert multiple records in a single transaction using Odata from Postman",description:"Got inspired by this topic, I'd like to write this article to show you how to post multiple records in single request by using Postman.",source:"@site/docs/02-integration/02-odata/2019-10-15-insert-multiple-records-in-single-request-using-odata-from-postman/index.md",sourceDirName:"02-integration/02-odata/2019-10-15-insert-multiple-records-in-single-request-using-odata-from-postman",slug:"/integration/odata/2019-10-15-insert-multiple-records-in-single-request-using-odata-from-postman/",permalink:"/docs/integration/odata/2019-10-15-insert-multiple-records-in-single-request-using-odata-from-postman/",draft:!1,unlisted:!1,tags:[{inline:!0,label:"Postman",permalink:"/docs/tags/postman"},{inline:!0,label:"ODATA",permalink:"/docs/tags/odata"},{inline:!0,label:"BATCH",permalink:"/docs/tags/batch"},{inline:!0,label:"integration",permalink:"/docs/tags/integration"},{inline:!0,label:"d365",permalink:"/docs/tags/d-365"}],version:"current",lastUpdatedBy:"Dynamics365",lastUpdatedAt:1713284865e3,frontMatter:{date:"2019-10-15T00:00:00.000Z",title:"Insert multiple records in a single transaction using Odata from Postman",tags:["Postman","ODATA","BATCH","integration","d365"],categories:["Integration","FinOps"],lightgallery:!0},sidebar:"tutorialSidebar",previous:{title:"OData - Data Entity",permalink:"/docs/integration/odata/"},next:{title:"Consuming Dynamics 365 Finance and Operations OData services from .NET",permalink:"/docs/integration/odata/2019-12-16-Consuming-Dynamics-365-Finance-and-Operations-OData-services-from-NET/"}},d={},c=[{value:"1. Get Dynamics 365 for finance and operations authorization",id:"1-get-dynamics-365-for-finance-and-operations-authorization",level:3},{value:"2. Create a new POST request in Postman with header",id:"2-create-a-new-post-request-in-postman-with-header",level:3},{value:"3. Modify the Body in Postman",id:"3-modify-the-body-in-postman",level:3}];function l(e){const n={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["Got inspired by ",(0,a.jsx)(n.a,{href:"https://community.dynamics.com/365/financeandoperations/f/dynamics-365-for-finance-and-operations-forum/286810/inserting-multiple-records-via-odata-from-postman",children:"this topic"}),", I'd like to write this article to show you how to post multiple records in single request by using Postman."]}),"\n",(0,a.jsxs)(n.p,{children:["Generally, batch requests are supported in the ",(0,a.jsx)(n.a,{href:"https://docs.oasis-open.org/odata/odata/v4.0/errata02/os/complete/part1-protocol/odata-v4.0-errata02-os-part1-protocol-complete.html#_Toc406398359",children:"OData service"}),", The easiest way is you can use the C# code approach from ",(0,a.jsx)(n.a,{href:"https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/ODataConsoleApplication",children:"github"})," and the excel add-ins in Dynamics 365 for finance and operations use Odata batch to communicate in a single request but how can we leverage it in Postman."]}),"\n",(0,a.jsxs)(n.p,{children:["Using Excel add-in then add 2 customer groups records and submit to Dynamics 365 for finance and operations, while you are doing that using ",(0,a.jsx)(n.a,{href:"https://www.telerik.com/fiddler",children:"fiddler"})," on the same box to see how the odata batch framework works.\r\nThis can be done from POSTMAN too and you need to use header and body as you see in Fiddler."]}),"\n",(0,a.jsxs)(n.p,{children:["For basic setting up Dynamics 365 for finance and operations and Postman please follow ",(0,a.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/dynamics365/unified-operations/dev-itpro/data-entities/third-party-service-test",children:"this offical document"})]}),"\n",(0,a.jsx)(n.h3,{id:"1-get-dynamics-365-for-finance-and-operations-authorization",children:"1. Get Dynamics 365 for finance and operations authorization"}),"\n",(0,a.jsx)(n.p,{children:"This is a result"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Insert-multiple-records",src:t(2874).A+"",title:"2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_1.png",width:"2402",height:"1058"})}),"\n",(0,a.jsx)(n.h3,{id:"2-create-a-new-post-request-in-postman-with-header",children:"2. Create a new POST request in Postman with header"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Insert-multiple-records",src:t(62769).A+"",title:"2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_2.png",width:"1356",height:"336"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"URL: {{resource}}/data/$batch*"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"Content-Type: multipart/mixed;boundary=batch_d63a-e9be-2927"})}),"\n",(0,a.jsx)(n.h3,{id:"3-modify-the-body-in-postman",children:"3. Modify the Body in Postman"}),"\n",(0,a.jsx)(n.p,{children:"I will place 2 records for customer groups"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Insert-multiple-records",src:t(30728).A+"",title:"2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_3.png",width:"1520",height:"940"})}),"\n",(0,a.jsx)(n.p,{children:"Full text here"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmd",children:'--batch_d63a-e9be-2927\r\nContent-Type: multipart/mixed; boundary=changeset_2499-90ab-7b93\r\n\r\n--changeset_2499-90ab-7b93\r\nContent-Type: application/http\r\nContent-Transfer-Encoding: binary\r\n\r\nPOST CustomerGroups?cross-company=true HTTP/1.1\r\nContent-ID: 1\r\nAccept: application/json;q=0.9, */*;q=0.1\r\nOData-Version: 4.0\r\nContent-Type: application/json\r\nOData-MaxVersion: 4.0\r\n\r\n{"CustomerGroupId":"1060","Description":"Wholesales customers","PaymentTermId":"Net30","IsSalesTaxIncludedInPrice":"No","dataAreaId":"usmf"}\r\n--changeset_2499-90ab-7b93--\r\n\r\n--batch_d63a-e9be-2927\r\nContent-Type: multipart/mixed; boundary=changeset_b573-33b2-85ff\r\n\r\n--changeset_b573-33b2-85ff\r\nContent-Type: application/http\r\nContent-Transfer-Encoding: binary\r\n\r\nPOST CustomerGroups?cross-company=true HTTP/1.1\r\nContent-ID: 2\r\nAccept: application/json;q=0.9, */*;q=0.1\r\nOData-Version: 4.0\r\nContent-Type: application/json\r\nOData-MaxVersion: 4.0\r\n\r\n{"CustomerGroupId":"1070","Description":"Wholesales customers1","PaymentTermId":"Net30","IsSalesTaxIncludedInPrice":"No","dataAreaId":"usmf"}\r\n--changeset_b573-33b2-85ff--\n'})}),"\n",(0,a.jsx)(n.p,{children:"Click send and this is what you got from response"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Insert-multiple-records",src:t(10343).A+"",title:"2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_4.png",width:"2422",height:"812"})}),"\n",(0,a.jsx)(n.p,{children:"Full Response"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'--batchresponse_45e87829-5a26-480e-8aaa-8a08c7a82c60\r\nContent-Type: multipart/mixed; boundary=changesetresponse_27ed7621-d939-40b7-9f8b-be0421ff0cea\r\n--changesetresponse_27ed7621-d939-40b7-9f8b-be0421ff0cea\r\nContent-Type: application/http\r\nContent-Transfer-Encoding: binary\r\nContent-ID: 1\r\nHTTP/1.1 201 Created\r\nETag: W/"JzEsNjg3MTk0Nzk4MzUn"\r\nLocation: https: //fodevb2819a3b6966913ddevaos.cloudax.dynamics.com/data/CustomerGroups(dataAreaId=\'usmf\',CustomerGroupId=\'1060\')\r\nContent-Type: application/json; odata.metadata=minimal\r\nOData-Version: 4.0\r\n{\r\n"@odata.context": "https://fodevb2819a3b6966913ddevaos.cloudax.dynamics.com/data/$metadata#CustomerGroups/$entity",\r\n"@odata.etag": "W/\\"JzEsNjg3MTk0Nzk4MzUn\\"",\r\n"dataAreaId": "usmf",\r\n"CustomerGroupId": "1060",\r\n"ClearingPeriodPaymentTermName": "",\r\n"DefaultDimensionDisplayValue": "",\r\n"CustomerAccountNumberSequence": "",\r\n"IsSalesTaxIncludedInPrice": "No",\r\n"Description": "Wholesales customers",\r\n"WriteOffReason": "",\r\n"PaymentTermId": "Net30",\r\n"TaxGroupId": ""\r\n}\r\n--changesetresponse_27ed7621-d939-40b7-9f8b-be0421ff0cea--\r\n--batchresponse_45e87829-5a26-480e-8aaa-8a08c7a82c60\r\nContent-Type: multipart/mixed; boundary=changesetresponse_541a7d21-af21-4d66-b410-fb4165599b54\r\n--changesetresponse_541a7d21-af21-4d66-b410-fb4165599b54\r\nContent-Type: application/http\r\nContent-Transfer-Encoding: binary\r\nContent-ID: 2\r\nHTTP/1.1 201 Created\r\nETag: W/"JzEsNjg3MTk0Nzk4MzYn"\r\nLocation: https: //fodevb2819a3b6966913ddevaos.cloudax.dynamics.com/data/CustomerGroups(dataAreaId=\'usmf\',CustomerGroupId=\'1070\')\r\nContent-Type: application/json; odata.metadata=minimal\r\nOData-Version: 4.0\r\n{\r\n"@odata.context": "https://fodevb2819a3b6966913ddevaos.cloudax.dynamics.com/data/$metadata#CustomerGroups/$entity",\r\n"@odata.etag": "W/\\"JzEsNjg3MTk0Nzk4MzYn\\"",\r\n"dataAreaId": "usmf",\r\n"CustomerGroupId": "1070",\r\n"ClearingPeriodPaymentTermName": "",\r\n"DefaultDimensionDisplayValue": "",\r\n"CustomerAccountNumberSequence": "",\r\n"IsSalesTaxIncludedInPrice": "No",\r\n"Description": "Wholesales customers1",\r\n"WriteOffReason": "",\r\n"PaymentTermId": "Net30",\r\n"TaxGroupId": ""\r\n}\r\n--changesetresponse_541a7d21-af21-4d66-b410-fb4165599b54--\r\n--batchresponse_45e87829-5a26-480e-8aaa-8a08c7a82c60--\n'})}),"\n",(0,a.jsx)(n.p,{children:"Check the data in Dynamics 365 for finance and operations"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Insert-multiple-records",src:t(34558).A+"",title:"2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_5.png",width:"1170",height:"510"})}),"\n",(0,a.jsxs)(n.p,{children:["Note: refer this article for an C# example:\r\n",(0,a.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/odata#run-multiple-requests-in-a-single-transaction",children:"https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/odata#run-multiple-requests-in-a-single-transaction"})]}),"\n",(0,a.jsx)(n.p,{children:"Thank you for reading."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},2874:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_1-071a80d1990f629b92c3fa2d73089d97.png"},62769:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_2-3da47c765e8ecfea3adbf7c80584ab0d.png"},30728:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_3-37cb21ae4b4a55e7f1aa2539e0ea7bbd.png"},10343:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_4-5443b348bd58d4bbadcf84ed305f39ac.png"},34558:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/2019-10-15-Insert-multiple-records-in-single-request-using-Odata-from-Postman_5-5f29c31a9077dc68a4088d0cda87b353.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(96540);const s={},r=a.createContext(s);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);