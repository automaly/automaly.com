"use strict";(self.webpackChunkautomaly_com=self.webpackChunkautomaly_com||[]).push([[7492],{72665:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var i=t(85893),r=t(11151);const a={title:"Create record in DimensionAttributeValueCombination table manually.",date:new Date("2016-07-05T09:47:00.000Z"),categories:["AX2012"],tags:["xpp","Dimension"]},o=void 0,c={id:"development/xpp-sample/2016-07-05-create-record-in-dimensionattributevaluecombination-manually/index",title:"Create record in DimensionAttributeValueCombination table manually.",description:"Sometime we need this RecId value in DimansionAttributeValueCombination Table for some reasons likes putting new dimension in LedgerDimension field in LedgerJournalTrans Table, or somewhere else.",source:"@site/docs/03-development/01-xpp-sample/2016-07-05-create-record-in-dimensionattributevaluecombination-manually/index.md",sourceDirName:"03-development/01-xpp-sample/2016-07-05-create-record-in-dimensionattributevaluecombination-manually",slug:"/development/xpp-sample/2016-07-05-create-record-in-dimensionattributevaluecombination-manually/",permalink:"/docs/development/xpp-sample/2016-07-05-create-record-in-dimensionattributevaluecombination-manually/",draft:!1,unlisted:!1,tags:[{label:"xpp",permalink:"/docs/tags/xpp"},{label:"Dimension",permalink:"/docs/tags/dimension"}],version:"current",frontMatter:{title:"Create record in DimensionAttributeValueCombination table manually.",date:"2016-07-05T09:47:00.000Z",categories:["AX2012"],tags:["xpp","Dimension"]},sidebar:"tutorialSidebar",previous:{title:"How to verify active inventory dimensions on an item",permalink:"/docs/development/xpp-sample/2016-01-17-how-to-verify-active-inventory-dimensions-on-an-item/"},next:{title:"Understanding modifedField() Table method in fDynamics 365 Finance Operations",permalink:"/docs/development/xpp-sample/2016-11-08-understanding-modifedField-table-method-finops/"}},s={},l=[];function u(e){const n={code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Sometime we need this ",(0,i.jsx)(n.code,{children:"RecId"})," value in ",(0,i.jsx)(n.code,{children:"DimansionAttributeValueCombination"})," Table for some reasons likes putting new dimension in ",(0,i.jsx)(n.code,{children:"LedgerDimension"})," field in ",(0,i.jsx)(n.code,{children:"LedgerJournalTrans"})," Table, or somewhere else."]}),"\n",(0,i.jsxs)(n.p,{children:["Suppose my Account structure likes: ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"MainAcct - Dept - Woker - SubAcct - Item"})}),",\r\nyou can custom base on your struture."]}),"\n",(0,i.jsxs)(n.p,{children:["This code is for creating a record into ",(0,i.jsx)(n.code,{children:"DimansionAttributeValueCombination"})," in code and then get ",(0,i.jsx)(n.code,{children:"RecID"})," of this."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"static void createDimensionAttributeValueCombination(Args _args)\r\n{\r\n    DimensionAttributeValueContract     ValueContract;\r\n    DimensionAttributeValueCombination  davc;\r\n    MainAccount                         valueMainAccount;\r\n    DimensionStorage                    dimStorage;\r\n\r\n    DimensionServiceProvider DimensionServiceProvider   = new DimensionServiceProvider();\r\n    LedgerAccountContract LedgerAccountContract         = new LedgerAccountContract();\r\n    List ListValueContract                              = new List(Types::Class);\r\n    \r\n    // Get main account with structure : Mainacct - DE - woker - subacct - item\r\n    valueMainAccount = MainAccount::findByMainAccountId('910001'); //Get main account\r\n\r\n    ValueContract = new DimensionAttributeValueContract();\r\n    ValueContract.parmName('Department') ;\r\n    ValueContract.parmValue('6020'); //Value for dimension Department\r\n    ListValueContract.addEnd(ValueContract);\r\n\r\n    ValueContract = new DimensionAttributeValueContract();\r\n    ValueContract.parmName('Worker') ;\r\n    ValueContract.parmValue('000001'); //Value for dimension ExpenseCode\r\n    ListValueContract.addEnd(ValueContract);\r\n\r\n    ValueContract = new DimensionAttributeValueContract();\r\n    ValueContract.parmName('SubAcct') ;\r\n    ValueContract.parmValue('\uad50\ubcf4\uc0dd\uba85'); //Value for dimension Project\r\n    ListValueContract.addEnd(ValueContract);\r\n\r\n    ValueContract = new DimensionAttributeValueContract();\r\n    ValueContract.parmName('Item') ;\r\n    ValueContract.parmValue('110329'); //Value for dimension Project\r\n    ListValueContract.addEnd(ValueContract);\r\n\r\n    LedgerAccountContract.parmMainAccount(valueMainAccount.MainAccountId);\r\n    LedgerAccountContract.parmValues(ListValueContract);\r\n\r\n    //if combination is not exist then create new one\r\n    dimStorage = DimensionServiceProvider::buildDimensionStorageForLedgerAccount(LedgerAccountContract);\r\n    davc = DimensionAttributeValueCombination::find(dimStorage.save());\r\n    info(strFmt(\"RecId : %1 - DisplayValue : %2\", davc.RecId, davc.DisplayValue));\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"or you can use this way"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c#",children:"static void createDimension(Args _args)\r\n{\r\n    Struct      struct = new Struct();\r\n    container   financialDimension;\r\n    LedgerDimensionAccount legder;\r\n\r\n    //// Get main account with structure : Mainacct - DE - woker - subacct - item\r\n    struct.add('Department', '6020');\r\n    struct.add('Item', '220006');\r\n    struct.add('SubAcct', 'Max test account');\r\n    struct.add('Worker', '000002');\r\n\r\n    financialDimension += struct.fields();\r\n    financialDimension += struct.fieldName(1);\r\n    financialDimension += struct.valueIndex(1);\r\n    financialDimension += struct.fieldName(2);\r\n    financialDimension += struct.valueIndex(2);\r\n    financialDimension += struct.fieldName(3);\r\n    financialDimension += struct.valueIndex(3);\r\n    financialDimension += struct.fieldName(4);\r\n    financialDimension += struct.valueIndex(4);\r\n\r\n    legder = DimensionDefaultingService::serviceCreateLedgerDimension(\r\n                            DimensionStorage::getDefaultAccountForMainAccountNum(\"910001\"),\r\n                            AxdDimensionUtil::getDimensionAttributeValueSetId(financialDimension));\r\n    info(strFmt(\"%1\",legder));\r\n\r\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>c,a:()=>o});var i=t(67294);const r={},a=i.createContext(r);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);