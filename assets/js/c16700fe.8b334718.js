"use strict";(self.webpackChunknuxulutest=self.webpackChunknuxulutest||[]).push([[6469],{10224:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=t(74848),l=t(28453);const r={title:"Difference between QueryFilter and QueryBuildRrange",description:"Difference between QueryFilter and QueryBuildRrange",date:new Date("2017-01-01T00:00:00.000Z"),categories:["AX2012"],tags:["QueryBuild","QueryFilter","QueryBuildRrange"]},i=void 0,s={id:"development/xpp-sample/2017-01-01-Difference-between-QUERYFILTER-and-QUERYBUILDRANGE/index",title:"Difference between QueryFilter and QueryBuildRrange",description:"Difference between QueryFilter and QueryBuildRrange",source:"@site/docs/03-development/01-xpp-sample/2017-01-01-Difference-between-QUERYFILTER-and-QUERYBUILDRANGE/index.md",sourceDirName:"03-development/01-xpp-sample/2017-01-01-Difference-between-QUERYFILTER-and-QUERYBUILDRANGE",slug:"/development/xpp-sample/2017-01-01-Difference-between-QUERYFILTER-and-QUERYBUILDRANGE/",permalink:"/docs/development/xpp-sample/2017-01-01-Difference-between-QUERYFILTER-and-QUERYBUILDRANGE/",draft:!1,unlisted:!1,tags:[{inline:!0,label:"QueryBuild",permalink:"/docs/tags/query-build"},{inline:!0,label:"QueryFilter",permalink:"/docs/tags/query-filter"},{inline:!0,label:"QueryBuildRrange",permalink:"/docs/tags/query-build-rrange"}],version:"current",lastUpdatedBy:"Luan Nguyen",lastUpdatedAt:1701636614e3,frontMatter:{title:"Difference between QueryFilter and QueryBuildRrange",description:"Difference between QueryFilter and QueryBuildRrange",date:"2017-01-01T00:00:00.000Z",categories:["AX2012"],tags:["QueryBuild","QueryFilter","QueryBuildRrange"]},sidebar:"tutorialSidebar",previous:{title:"Useful functions to use in AX 2012",permalink:"/docs/development/xpp-sample/2016-12-30-useful-functions-to-use-in-ax-2012/"},next:{title:"Recalculate InventSum in Dynamics AX",permalink:"/docs/development/xpp-sample/2017-01-02-Recalculate-InventSum/"}},u={},d=[{value:"Use QueryFilter class:",id:"use-queryfilter-class",level:3},{value:"Use QueryBuildRange class:",id:"use-querybuildrange-class",level:3}];function c(e){const n={code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["In Dynamics AX, we have two way to filter the result set of records in joined query is using ",(0,a.jsx)(n.code,{children:"QueryFilter"})," class and ",(0,a.jsx)(n.code,{children:"QueryBuildRange"})," class."]}),"\n",(0,a.jsxs)(n.p,{children:["So what's difference between them? when do we use ",(0,a.jsx)(n.code,{children:"QueryFilter"})," class? When do we use ",(0,a.jsx)(n.code,{children:"QueryBuildRange"})," class?"]}),"\n",(0,a.jsxs)(n.p,{children:["Today, i will make a simple sample to show what is difference between them. I have a table ",(0,a.jsx)(n.code,{children:"DuyDang_ParentTable"})," which have 1 columns ",(0,a.jsx)(n.code,{children:"ID"}),"."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Parent_Table",src:t(48336).A+"",title:"Parent_Table",width:"503",height:"324"})}),"\n",(0,a.jsxs)(n.p,{children:["And another table ",(0,a.jsx)(n.code,{children:"DuyDang_ChildTable"})," which have 3 columns : ",(0,a.jsx)(n.code,{children:"ID"}),", ",(0,a.jsx)(n.code,{children:"ParentID"}),", ",(0,a.jsx)(n.code,{children:"Qty"}),"."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Child_Table",src:t(25470).A+"",title:"Child_Table",width:"320",height:"204"})}),"\n",(0,a.jsxs)(n.p,{children:["With the relation ",(0,a.jsx)(n.code,{children:"DuyDang_ParentTable.ID = DuyDang_ChildTable.ParentID"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["I have the ",(0,a.jsx)(n.strong,{children:"Outer Join"})," query:"]}),"\n",(0,a.jsx)(n.h3,{id:"use-queryfilter-class",children:"Use QueryFilter class:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cs",children:'static void DuyDang_QueryFilter(Args _args)\n{\n    Query query;\n    QueryBuildDataSource qbds, qbds1;\n    QueryRun queryRun;    \n    DuyDang_ParentTable parentTable;\n    DuyDang_ChildTable childTable;\n    QueryFilter qFilter;\n    QueryBuildRange qRange;\n    struct structSet;\n\n    structSet = new struct\n        ("str ParentID;"\n        + "str ChildID;"\n        + "real Quantity"\n        );\n\n    query = new Query();\n    qbds = query.addDataSource(tableNum(DuyDang_ParentTable));  \n    qbds1 = qbds.addDataSource(tableNum(DuyDang_ChildTable));    \n    qbds1.joinMode(JoinMode::OuterJoin); // Set join type.   \n    qbds1.addLink(fieldNum(DuyDang_ParentTable, ID), fieldNum(DuyDang_ChildTable, ParentID));\n    qFilter = query.addQueryFilter(qbds1, \'Qty\');\n    qFilter.value(queryValue(15));\n    \n    queryRun = new QueryRun(query);    \n    while (queryRun.next())\n    {\n        parentTable = queryRun.get(tableNum(DuyDang_ParentTable));\n        childTable = queryRun.get(tableNum(DuyDang_ChildTable));\n\n        structSet.value("ParentID", parentTable.ID);\n        structSet.value("ChildID", childTable.ID);\n        structSet.value("Quantity", childTable.Qty);\n        info(structSet.toString());\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"The result"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Child_Table",src:t(66877).A+"",title:"Child_Table",width:"320",height:"249"})}),"\n",(0,a.jsx)(n.h3,{id:"use-querybuildrange-class",children:"Use QueryBuildRange class:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cs",children:'static void DuyDang_QueryFilter(Args _args)\n{\n    Query query;\n    QueryBuildDataSource qbds, qbds1;\n    QueryRun queryRun;    \n    DuyDang_ParentTable parentTable;\n    DuyDang_ChildTable childTable;\n    QueryFilter qFilter;\n    QueryBuildRange qRange;\n    struct structSet;\n\n    structSet = new struct\n        ("str ParentID;"\n        + "str ChildID;"\n        + "real Quantity"\n        );\n\n    query = new Query();\n    qbds = query.addDataSource(tableNum(DuyDang_ParentTable));  \n    qbds1 = qbds.addDataSource(tableNum(DuyDang_ChildTable));    \n    qbds1.joinMode(JoinMode::OuterJoin); // Set join type.   \n    qbds1.addLink(fieldNum(DuyDang_ParentTable, ID), fieldNum(DuyDang_ChildTable, ParentID));\n    qRange = qbds1.addRange(fieldNum(DuyDang_ChildTable, Qty));\n    qRange.value(queryValue(15));\n    \n    queryRun = new QueryRun(query);    \n    while (queryRun.next())\n    {\n        parentTable = queryRun.get(tableNum(DuyDang_ParentTable));\n        childTable = queryRun.get(tableNum(DuyDang_ChildTable));\n\n        structSet.value("ParentID", parentTable.ID);\n        structSet.value("ChildID", childTable.ID);\n        structSet.value("Quantity", childTable.Qty);\n        info(structSet.toString());\n    }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["and result ",(0,a.jsx)(n.code,{children:"info"})," here:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Child_Table",src:t(22160).A+"",title:"Child_Table",width:"320",height:"250"})}),"\n",(0,a.jsx)(n.p,{children:"We can see the difference between them"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["When you use ",(0,a.jsx)(n.code,{children:"QueryFilter"})," class, the restriction is in the ",(0,a.jsx)(n.code,{children:"WHERE"})," clause of the ",(0,a.jsx)(n.code,{children:"OUTER JOIN"})," in the ANSI SQL select statement that is generated by the AOS for the underlying database system."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM DuyDang_ParentTable(DuyDang_ParentTable_1) \n\tOUTER JOIN * FROM DuyDang_ChildTable(DuyDang_ChildTable_1) \n\tON DuyDang_ParentTable.ID = DuyDang_ChildTable.ParentID \n\tWHERE ((DuyDang_ChildTable(DuyDang_ChildTable_1).Qty = 15))\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["When you use ",(0,a.jsx)(n.code,{children:"QueryBuidRange"})," class, the restriction is in the ",(0,a.jsx)(n.code,{children:"ON"})," clause of the ",(0,a.jsx)(n.code,{children:"OUTER JOIN"})," in the ANSI SQL select statement that is generated by the AOS for the underlying database system."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM DuyDang_ParentTable(DuyDang_ParentTable_1)\n\tOUTER JOIN * FROM DuyDang_ChildTable(DuyDang_ChildTable_1) \n\tON DuyDang_ParentTable.ID = DuyDang_ChildTable.ParentID \n\t\tAND ((Qty = 15))\n"})}),"\n",(0,a.jsx)(n.p,{children:"Thank you for reading!"})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},25470:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/Child_Table-a6e8fd338127e83ab1d2971712c9f9d0.jpg"},48336:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/Parent_Table-c5bffc9130b0921199705918b970e932.jpg"},66877:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/Result_Filter-9a25dacb90b5bb893008490b8b3c0480.jpg"},22160:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/Result_Range-47572dec33bc1b71dd1060eb578b9e61.jpg"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var a=t(96540);const l={},r=a.createContext(l);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);