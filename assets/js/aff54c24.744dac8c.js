"use strict";(self.webpackChunkautomaly_com=self.webpackChunkautomaly_com||[]).push([[1617],{60942:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>n,metadata:()=>o,toc:()=>h});var i=s(85893),a=s(11151);const n={title:"Types of services in Microsoft Dynamics AX 2012",date:new Date("2016-11-10T09:47:00.000Z"),categories:["AX2012"],tags:["aif","xpp","aos"],toc:{enable:!0}},r=void 0,o={id:"ax2012-archive/miscellaneous/2016-11-10-types-services-microsoft-dynamics-ax-2012/index",title:"Types of services in Microsoft Dynamics AX 2012",description:"1. Document services",source:"@site/docs/07-ax2012-archive/02-miscellaneous/2016-11-10-types-services-microsoft-dynamics-ax-2012/index.md",sourceDirName:"07-ax2012-archive/02-miscellaneous/2016-11-10-types-services-microsoft-dynamics-ax-2012",slug:"/ax2012-archive/miscellaneous/2016-11-10-types-services-microsoft-dynamics-ax-2012/",permalink:"/ax2012-archive/miscellaneous/2016-11-10-types-services-microsoft-dynamics-ax-2012/",draft:!1,unlisted:!1,tags:[{label:"aif",permalink:"/tags/aif"},{label:"xpp",permalink:"/tags/xpp"},{label:"aos",permalink:"/tags/aos"}],version:"current",lastUpdatedBy:"Luan Nguyen",lastUpdatedAt:1701636614e3,frontMatter:{title:"Types of services in Microsoft Dynamics AX 2012",date:"2016-11-10T09:47:00.000Z",categories:["AX2012"],tags:["aif","xpp","aos"],toc:{enable:!0}},sidebar:"tutorialSidebar",previous:{title:"Microsoft AX 2012 Test Data Transfer Tool",permalink:"/ax2012-archive/miscellaneous/2016-11-08-Microsoft_Dyanmics_AX_2012_Test_Data_Transfer_Tool/"},next:{title:"Dynamics 365 Finance Operations upgrade questionaire",permalink:"/ax2012-archive/miscellaneous/2020-01-01-ax-upgrade-assessment-clarification-questions/"}},c={},h=[{value:"1. Document services",id:"1-document-services",level:2},{value:"2. Custom services",id:"2-custom-services",level:2},{value:"3. System services",id:"3-system-services",level:2},{value:"4. Query service",id:"4-query-service",level:2},{value:"5. Metadata service",id:"5-metadata-service",level:2},{value:"6. User session service",id:"6-user-session-service",level:2},{value:"7. The right service for the right job",id:"7-the-right-service-for-the-right-job",level:2},{value:"8. Complexity",id:"8-complexity",level:2},{value:"9. Flexibility",id:"9-flexibility",level:2}];function l(e){const t={code:"code",em:"em",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"1-document-services",children:"1. Document services"}),"\n",(0,i.jsx)(t.p,{children:"Document services use documents to represent business objects such as purchase and sales orders, customers, vendors, and so on."}),"\n",(0,i.jsx)(t.p,{children:"A document service is composed of the following components:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Document query"})," : This is a query that is created in the ",(0,i.jsx)(t.strong,{children:"Application Object Tree (AOT)"})," and contains all the tables that are related to the business object that you want to expose. Based on this query, the Document Service Generation Wizard can be used to generate the other artifacts that make up the document service."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Table AxBC classes"})," : An ",(0,i.jsx)(t.code,{children:"AxBC"})," class is a wrapper for a table and contains business logic that is needed for ",(0,i.jsx)(t.strong,{children:"Create, Read, Update, Delete (CRUD)"})," operations."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Document class"})," : The purpose of the document class is to contain business logic that is associated with the creation and modification of the business entity itself. For example, the ",(0,i.jsx)(t.code,{children:"AxdCustomer"})," class could contain logic to handle party information of a customer."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Document service class"})," : This is the actual service implementation class and extends the ",(0,i.jsx)(t.code,{children:"AifDocumentService"})," class. This class implements the service operations that are published through the service contract."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["When creating document services, developers need to make sure ",(0,i.jsx)(t.strong,{children:"that the business object is mapped correctly to the document query"}),". The document services framework will handle all other things such as the serialization and deserialization of XML, date effectiveness, and so on."]}),"\n",(0,i.jsx)(t.p,{children:"Document services can be deployed using the integration ports and all available adapters can be used."}),"\n",(0,i.jsx)(t.h2,{id:"2-custom-services",children:"2. Custom services"}),"\n",(0,i.jsxs)(t.p,{children:["Custom services were already available in Microsoft Dynamics AX 2009, but support for ",(0,i.jsx)(t.strong,{children:"Extended Data Types(EDTs)"})," was limited, which resulted in developers having to provide custom serialization and deserialization logic."]}),"\n",(0,i.jsxs)(t.p,{children:["Microsoft Dynamics AX 2012 introduces the concept of attributes.  ",(0,i.jsx)(t.strong,{children:"Attributes"}),"  provide a way to specify metadata about classes and methods. Two of these attributes are used when creating data contracts: the ",(0,i.jsx)(t.code,{children:"DataContractAttribute"})," and ",(0,i.jsx)(t.code,{children:"DataMemberAttribute"})," attributes."]}),"\n",(0,i.jsx)(t.p,{children:"The 'DataContractAttribute' attribute is used to define that a class is a data contract. The'DataMemberAttribute' attribute is added to methods of data contracts that represent data members that have to be exposed. This way of defining data contracts is very similar to other programming languages such as C##."}),"\n",(0,i.jsx)(t.p,{children:"Support for more complex data types such as collections and tables has been added so that these types can be serialized and deserialized without developers having to provide the logic themselves."}),"\n",(0,i.jsx)(t.p,{children:"In a typical custom service you will find the following components:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Service contract"})," : A service contract is an X++ class that contains methods with the ",(0,i.jsx)(t.em,{children:"SysEntryPointAttribute"})," attribute. This identifies methods that will result in a service operation contract when the service is exposed."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Data contracts"})," : A data contract is an X++ class that is attributed with the  ",(0,i.jsx)(t.strong,{children:"DataContractAttribute"}),"  attribute. It contains parameter methods that will be attributed as data members for each member variable that needs to be part of the data contract."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Custom services can be deployed using the integration ports and any available adapter can be used."}),"\n",(0,i.jsx)(t.h2,{id:"3-system-services",children:"3. System services"}),"\n",(0,i.jsx)(t.p,{children:"These services are new since the release of Microsoft Dynamics AX 2012. The main difference between these services and the previous two types is that they are not customizable and are not mapped to a query or X++ code. They are not customizable because they are written by Microsoft in managed code. One exception is the user session service, which is written in X++ code but is generally considered as a system service."}),"\n",(0,i.jsx)(t.p,{children:"There are three system services available for use in Microsoft Dynamics AX 2012: the query service, the metadata service, and the user session service."}),"\n",(0,i.jsx)(t.h2,{id:"4-query-service",children:"4. Query service"}),"\n",(0,i.jsx)(t.p,{children:"The query service provides the means to run queries of the following three types:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Static queries defined in the AOT."}),"\n",(0,i.jsxs)(t.li,{children:["User-defined queries by using the ",(0,i.jsx)(t.em,{children:"QueryMetaData"})," class in the service."]}),"\n",(0,i.jsx)(t.li,{children:"Dynamic queries that are written in X++ classes. These classes need to extend the 'AIFQueryBuilder' class."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"When queries are called by a service, the AOS authorization ensures that the caller has the correct permissions to retrieve the information. This means that unpermitted fields will be omitted from the query result. Furthermore, when joined data sources are not allowed to be used, the query call will result in an error that can be caught by the calling application."}),"\n",(0,i.jsx)(t.p,{children:"The resulting rows will be returned as an ADO.NET DataSet object. This can be very useful when you make use of controls in your application that can be bound to a DataSet object."}),"\n",(0,i.jsx)(t.p,{children:"The query service can be found at the following address:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"net.tcp://hostname:port/DynamicsAX/Services/QueryService"})}),"\n",(0,i.jsx)(t.h2,{id:"5-metadata-service",children:"5. Metadata service"}),"\n",(0,i.jsx)(t.p,{children:"This system service can be used to retrieve metadata information about the AOT. Consumers of this service can get information such as which tables, classes, forms, and menu items are available in the system. An example usage of this service could be retrieving information about the AOT and using it in a dashboard application running on the Microsoft .NET Framework."}),"\n",(0,i.jsx)(t.p,{children:"The metadata service can be found at the following address:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"net.tcp://hostname:port/DynamicsAX/Services/MetaDataService"})}),"\n",(0,i.jsx)(t.h2,{id:"6-user-session-service",children:"6. User session service"}),"\n",(0,i.jsx)(t.p,{children:"The third system service is the user session service. With this service you can retrieve information about the caller's user session. This information includes the user's default company, language, preferred calendar, time zone, and currency."}),"\n",(0,i.jsx)(t.p,{children:"The user session service can be found at the following address:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"net.tcp://hostname:port/DynamicsAX/Services/UserSessionService"})}),"\n",(0,i.jsx)(t.h2,{id:"7-the-right-service-for-the-right-job",children:"7. The right service for the right job"}),"\n",(0,i.jsx)(t.p,{children:"Now that it is clear what types of services Microsoft Dynamics AX 2012 has to offer, the question arises as to when each type of service should be used. There is no simple answer for this due to the fact that every type has its strengths and weaknesses. Let us take a look at two factors that may help you make the right decision."}),"\n",(0,i.jsx)(t.h2,{id:"8-complexity",children:"8. Complexity"}),"\n",(0,i.jsxs)(t.p,{children:["Both document services and custom services can handle any business entity complexity. The document services framework parses the incoming XML and validates it against an ",(0,i.jsx)(t.strong,{children:"XML Schema Definition(XSD)"})," document. After validation, the framework calls the appropriate service action. Custom services on the other hand use the .NET XML Serializer and no validation of data is done. This means that any validations of the data in the data contract need to be written in code. Another advantage of document services over custom services is that the AxBC classes already contain a lot of the logic that is needed for CRUD operations."]}),"\n",(0,i.jsx)(t.h2,{id:"9-flexibility",children:"9. Flexibility"}),"\n",(0,i.jsx)(t.p,{children:"Document services have service contracts that are tightly coupled with the AOT Query object. This means that when the query changes, the schema also changes. Data policies allow you to control which fields are exposed. When using custom services, this cannot be done by setup, but has to be done by attributing at design time."}),"\n",(0,i.jsx)(t.p,{children:"Custom services have the flexibility towards the service contract that the document services are lacking. Here the developer is in full control about what is in the contract and what is not. The operations, input parameters, and return types are all the responsibility of the developer."}),"\n",(0,i.jsx)(t.p,{children:"Another benefit in using custom services is the ability to use shared data contracts as parameters for your operations. Think of a company-wide software solution that involves the use of Microsoft Dynamics AX 2012 together with SharePoint and .NET applications that are all linked through BizTalk. You could opt to share data contracts to make sure that entities are the same for all of the components in the architecture."}),"\n",(0,i.jsx)(t.p,{children:"In that scenario, you're able to create a data contract in managed code and reference it in Microsoft Dynamics AX 2012. Then you can use that .NET data contract in your service operations as a parameter."}),"\n",(0,i.jsx)(t.p,{children:"There will probably be more factors that you will take into consideration to choose between the service types. But we can come to the following conclusion about when to use what type of service:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Custom services"})," : Custom services should be used when exposing entities that have a low complexity or data contracts that need to be shared between other applications."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"They are also ideal when custom logic needs to be exposed that may have nothing to do with data structures within Microsoft Dynamics AX."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Document services"})," : Document services should be used when exposing entities that have a high complexity and when validation of the data and structure would require a lot of work for developers to implement on their own."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Query service"})," : The query service should be used when only read operations are needed and there is no need for updates, inserts, or delete actions."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"It can be used when writing .NET Framework applications that leverage the data from Microsoft Dynamics AX returned as an ADO.NET DataSet."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Metadata service"})," : Use the metadata service when metadata information about objects in the AOT is required."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"User session service"})," : The user session service should be used when user session-related information is required."]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>r});var i=s(67294);const a={},n=i.createContext(a);function r(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);